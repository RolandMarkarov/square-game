(this["webpackJsonpreact-dot-game"]=this["webpackJsonpreact-dot-game"]||[]).push([[0],{15:function(e,t,a){e.exports=a(44)},20:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(14),u=a.n(r),i=(a(20),a(3)),l=a.n(i),o=a(1),s=a(4),f=a.n(s),d=(a(39),function(e){var t=e.handleDificulty,a=e.handleUsername,n=e.username,r=e.startGame,u=e.handleStartGame;return c.a.createElement("div",{className:"form-wrapper"},c.a.createElement("select",{name:"",defaultValue:"DEFAULT",onChange:t},c.a.createElement("option",{value:"DEFAULT",disabled:!0},"Select Dificulty"),c.a.createElement("option",{value:"easyMode",disabled:r},"Easy mode"),c.a.createElement("option",{value:"normalMode",disabled:r},"Normal mode"),c.a.createElement("option",{value:"hardMode",disabled:r},"Hard mode")),r?c.a.createElement("p",null,n):c.a.createElement("input",{type:"text",value:n,name:"name",onChange:a,placeholder:"Enter your name"}),c.a.createElement("button",{onClick:u},r?"Stop":"Start"))}),m=(a(40),"https://starnavi-frontend-test-task.herokuapp.com/winners"),b=function(e){var t=e.start,a=e.username,r=e.gameOver,u=Object(n.useState)([]),i=Object(o.a)(u,2),s=i[0],d=i[1];return Object(n.useEffect)((function(){!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(f()(m));case 2:e=t.sent,d(e.data);case 4:case"end":return t.stop()}}))}()}),[t]),Object(n.useEffect)((function(){!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(f.a.post(m,{winner:a,date:new Date}));case 2:e=t.sent,d(e.data);case 4:case"end":return t.stop()}}))}()}),[r]),c.a.createElement("div",null,c.a.createElement("h2",null,"Leader Board"),c.a.createElement("ul",{className:"list"},s.map((function(e){return c.a.createElement("li",{className:"list-item",key:e.id},c.a.createElement("span",null,e.winner),c.a.createElement("span",null,e.date))}))))},v=(a(41),a(42),function(e){var t=e.id,a=e.activeField,r=e.time,u=e.action,i=e.dificulty,l=e.cleanField,s=Object(n.useState)(""),f=Object(o.a)(s,2),d=f[0],m=f[1],b=Object(n.useState)(!1),v=Object(o.a)(b,2),p=v[0],O=v[1],j=Object(n.useState)(!1),E=Object(o.a)(j,2),h=E[0],y=E[1],S=Object(n.useState)(!1),w=Object(o.a)(S,2),g=w[0],k=w[1];return Object(n.useEffect)((function(){l&&(m(""),k(!1),O(!1),y(!1))}),[l]),Object(n.useEffect)((function(){a===t&&(m("blue"),O(!0),y(!0))}),[a]),Object(n.useEffect)((function(){!h||p||g||m("red");var e=setTimeout((function(){p&&O(!1)}),r);return function(){return clearTimeout(e)}}),[p]),c.a.createElement("div",{onClick:function(){p&a===t&&(k(!0),u())},className:"section ".concat(g?"green":d," ").concat(function(){var e="";return r===i.delay&&(e="medium"),r===i.delay&&(e="small"),e}())})}),p=function(e){var t=e.dificulty,a=e.fields,r=e.dataFetch,u=e.start,i=e.maxClick,l=e.endGame,s=e.username,f=Object(n.useState)(null),d=Object(o.a)(f,2),m=d[0],p=d[1],O=Object(n.useState)(null),j=Object(o.a)(O,2),E=j[0],h=j[1],y=Object(n.useState)(!1),S=Object(o.a)(y,2),w=S[0],g=S[1],k=Object(n.useState)(0),x=Object(o.a)(k,2),D=x[0],F=x[1],M=Object(n.useState)(""),N=Object(o.a)(M,2),C=(N[0],N[1]),G=Object(n.useState)(!1),T=Object(o.a)(G,2),U=T[0];T[1];Object(n.useEffect)((function(){})),Object(n.useEffect)((function(){return p(setTimeout((function(){if(u){var e=a;a.length;e.shift(),h(e[0]),e.length||g(!0)}}),r.delay)),function(){return clearTimeout(m)}}),[u,E,t]),Object(n.useEffect)((function(){w&&D>=i?(C("You Win"),l()):w&&D<i&&(C("You missed ".concat(i-D,"  blocks")),l())}),[w]);var A=function(){F((function(e){return e+1}))};return c.a.createElement("div",{className:"dashboard"},c.a.createElement("div",null,c.a.createElement("table",null,c.a.createElement("tbody",null,function(e,a){if(u){for(var n=[],r=[],i=0;i<=e*e;i++)i%e===0&&(n.push(c.a.createElement("tr",{key:i},r)),r=[]),r.push(c.a.createElement("td",null,c.a.createElement(v,{key:i,id:i,activeField:E,time:a,action:A,dificulty:t,cleanField:U})));return n}}(r.field,r.delay)))),c.a.createElement("div",null,c.a.createElement(b,{start:u,username:s,gameOver:w})))},O=(a(43),function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],u=Object(n.useState)("easyMode"),i=Object(o.a)(u,2),s=i[0],m=i[1],b=Object(n.useState)(13),v=Object(o.a)(b,2),O=v[0],j=v[1],E=Object(n.useState)({field:5,delay:2e3}),h=Object(o.a)(E,2),y=h[0],S=h[1],w=Object(n.useState)({fields:C()}),g=Object(o.a)(w,2),k=g[0],x=g[1],D=Object(n.useState)(!1),F=Object(o.a)(D,2),M=F[0],N=F[1];Object(n.useEffect)((function(){var e=Math.pow(y.field,2);j(Math.floor(e/2+1)),x(C())}),[s,y]),Object(n.useEffect)((function(){!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(f()("https://starnavi-frontend-test-task.herokuapp.com/game-settings"));case 2:e=t.sent,S(e.data[s]);case 4:case"end":return t.stop()}}))}()}),[s]);function C(){for(var e=Math.pow(y.field,2),t=[],a=0;a<e;a++)t.push(a);return t.sort((function(){return Math.random()-.5})).splice(e/2+2,1e3),t}return c.a.createElement("div",{className:"App"},c.a.createElement(d,{handleDificulty:function(e){var t=e.target.value;m(t)},handleUsername:function(e){var t=e.target.value;r(t)},username:a,handleStartGame:function(e){e.preventDefault(),N(!M),M&&function(e){e&&e.preventDefault();x({fields:C()}),N(!1)}()},startGame:M}),c.a.createElement(p,{dificulty:s,fields:k,start:M,maxClick:O,dataFetch:y,endGame:function(){N(!1)},username:a}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(c.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[15,1,2]]]);
//# sourceMappingURL=main.63be8072.chunk.js.map